<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>MiniApp Manifest</title>
    <link rel="stylesheet" href="./local.css" />

    <style>
    .two-cols {
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    table.members {
      border: 1px #f0f0f0 solid;
      margin-bottom: 1em;
      width: 100%;
    }
    table.members th:nth-child(1),
    table.members td:nth-child(1) {
      width: 11rem;  
    }

    table.members th:nth-child(2),
    table.members td:nth-child(2) {
      width: 5rem;  
    }
    table.members thead tr,
    table.members tr:nth-child(even) {
      background-color: #f0f0f0;
    }
    td, th {
      padding:2px 15px;
    }
    </style>

    <script async class="remove" src="https://www.w3.org/Tools/respec/respec-w3c"></script>
    <script defer src="https://w3c.github.io/miniapp/specs/script.js"></script>

    <script class="remove">
        var respecConfig = {
            specStatus: "ED",
            copyrightStart: "2021",
            edDraftURI: "https://w3c.github.io/miniapp-manifest/",

            shortName: "miniapp-manifest",

            editors: [{
                name: "Martin Alvarez-Espinar",
                companyURL: "http://www.huawei.com/",
                company: "Huawei"
              }, {
               name: "Yongjing Zhang",
                companyURL: "http://www.huawei.com/",
                company: "Huawei"
              }],

             formerEditors: [{
                name: "Shouren Lan",
                companyURL: "http://www.huawei.com/",
                company: "Huawei"
              }, {
                name: "Zhiqiang Yu",
                companyURL: "http://www.huawei.com/",
                company: "Huawei"
              }, {
                name: "Xiaofeng Zhang",
                companyURL: "http://www.huawei.com/",
                company: "Huawei"
              }],

            group: "wg/miniapps",
            github: {
              repoURL: "https://github.com/w3c/miniapp-manifest",
              branch: "main",
            },
            localBiblio:  {
              "SEMANTIC-VERSIONING": {
                title: 'Semantic Versioning',
                href: 'https://semver.org/'
              },
              "MINIAPP-LIFECYCLE": {
                  title: "MiniApp Lifecycle",
                  href: "https://w3c.github.io/miniapp-lifecycle/"
              },
              "MINIAPP-PACKAGING": {
                  title: "MiniApp Packaging",
                  href: "https://w3c.github.io/miniapp-packaging/"
              },
            },
            a11y: true,            
        };
    </script>
</head>

<body data-cite="APPMANIFEST MINIAPP-PACKAGING MANIFEST-APP-INFO INFRA">
  <section id='abstract'>
    <p>
      This specification is a registry of supplementary members for the <a href="https://www.w3.org/TR/appmanifest/">Web Application Manifest</a> and the <a href="https://www.w3.org/TR/manifest-app-info/">Web App Manifest - Application Information</a> specifications that provide additional metadata to an application manifest to describe <a href="https://w3c.github.io/miniapp-packaging/#dfn-miniapp" data-link-type="dfn">MiniApps</a>. This JSON-based manifest file enables developers to set up basic information, window style, page route, and other information of a MiniApp. A MiniApp manifest includes descriptive metadata about the MiniApp, such as identifier, app name, version name, version code, and minimum platform version, among others. The manifest also includes information about the window style like the navigation bar, title, and window background color, as well as page routing information, and the widgets that are part of a MiniApp.
    </p>
  </section>

  <section id='sotd'>
    <!--p id="langSwitch">
      <button onclick="switchLang('zh-hans')" lang="zh-hans">简体中文</button>
      <button onclick="switchLang('en')" lang="en">English</button>
      <button onclick="switchLang('all')" lang="en">All</button>
    </p-->
  </section>
  
  <section>
    <h2>MiniApp Manifest</h2>
    <p>
      A <dfn data-lt="MiniApp manifest's|manifest">MiniApp manifest</dfn> is a [[JSON]] document that extends and profiles the Web App Manifest [[APPMANIFEST]] and the Web App Manifest - Application Information [[MANIFEST-APP-INFO]], to describe metadata associated with a MiniApp.
    </p>
    <section id="manifest-conformance" data-cite="IMAGE-RESOURCE">
      <h3>Conformance</h3>
      <p>
        A [=MiniApp manifest=] MUST contain the following members at its root:
      </p>
      <ul>
        <li>
          <a>app_id</a>
        </li>
        <li>
          <a>icons</a>
        </li>
        <li>
          <a data-link-for="MiniApp manifest" data-link-type="dfn">name</a>
        </li>
        <li>
          <a>version_name</a>
        </li>  
        <li>
          <a>version_code</a>
        </li>
        <li>
          <a data-link-for="MiniApp manifest" data-link-type="dfn">min_platform_version</a>
        </li>
        <li>
          <a>pages</a>
        </li>
      </ul>
      <p>
          Each [=image resource=] object within the [=MiniApp manifest's=] <a>icons</a> member MUST contain the following members:
      </p>
      <ul>
        <li>
          {{ImageResource/src}}
        </li>
        <li>
          {{ImageResource/sizes}}
        </li>
      </ul>
      <p>
        A [=MiniApp manifest=] MAY contain a <a>widgets</a> member at its root. This member MUST contain an [=array=] of <a>MiniApp Widget resources</a>. Each [=MiniApp Widget resource=] object MUST contain the following members:
      </p>
      <ul>
        <li>
         <a data-link-for="MiniApp Widget resource" data-link-type="dfn">name</a>
        </li>
        <li>
         <a>path</a>
        </li>
      </ul>
      <p>
        A [=MiniApp manifest=] MAY contain a [=req_permissions=] member at its root. This member MUST contain an [=array=] of <a>MiniApp permission resources</a>. Each [=MiniApp permission resource=] object MUST contain the following member:
      </p>
      <ul>
        <li>
         <a data-link-for="MiniApp permission resource" data-link-type="dfn">name</a>
        </li>
      </ul>
      <p>The presence of other <a href="#manifest-members">members</a> in a [=MiniApp manifest=] is optional, but this MAY be modified by vendor-specific extensions.</p>
      <p>
        As the [=application manifest=] is JSON, this specification relies on the [[JSON]] specification. The members of this
        specification are of the types <dfn>number</dfn>, <dfn>boolean</dfn> literals, <dfn>object</dfn>,
        <dfn>array</dfn>, and <dfn>string</dfn>. <dfn>hexcolor</dfn> is a [=string=] expressing RGB color values [[CSS-COLOR-3]] in hexadecimal notation: <code>#</code> immediately followed by six hexadecimal characters (<code>#RRGGBB</code>).
      </p>      
    </section>

    <section data-cite="IMAGE-RESOURCE">
      <h3>Summary of Members</h3>
      <p>
        The following table shows a summary of the [=MiniApp manifest's=] members:
      </p>
      <table class="members">
        <caption>Members at root</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a>app_id</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Identifier</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>description</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Description</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>dir</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Direction of texts</span>
            </td>
          </tr>
          <tr data-cite="IMAGE-RESOURCE">
            <th scope="row"><a>icons</a></th>
            <td> [=image resource=] [=array=] </td>
            <td>Yes</td>
            <td>
              <span>MiniApp icons</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>lang</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Primary language</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp manifest" data-link-type="dfn">min_platform_version</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Minimum platform version supported</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp manifest" data-link-type="dfn">name</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>App name</span>
            </td>
          </tr>          
          <tr>
            <th scope="row"><a>pages</a></th>
            <td> [=array=] </td>
            <td>Yes</td>
            <td>
              <span>Page routing information</span>
            </td>
          </tr>
          <tr>
              <th scope="row"><a>req_permissions</a></th>              
              <td> <a>permission resource</a> [=array=] </td>
              <td>No</td>
              <td> <span>Required permissions</span></td>
          </tr>          
          <tr>
            <th scope="row"><a>short_name</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>MiniApp short name</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>version_code</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Version code</span>
            </td>
          </tr>          
          <tr>
            <th scope="row"><a>version_name</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Version name</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>widgets</a></th>
            <td> <a>widget resource</a> [=array=] </td>
            <td>No</td>
            <td> <span>Widgets</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>window</a></th>
            <td> <a>window resource</a> </td>
            <td>No</td>
            <td>
              <span>Window style</span>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=image resource=] objects<br/>(<code>icon</code> array)</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a>{{ImageResource/src}}</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Source of the icon</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>{{ImageResource/sizes}}</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Resolution sizes of the icon</span>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=permission resource=] objects<br/>(<code>req_permissions</code> array)</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a data-link-for="MiniApp permission resource" data-link-type="dfn">name</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
                <span>Permission name</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>reason</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
                <span>Reason to request the permission</span>
            </td>
          </tr>          
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=widget resource=] objects<br/>(<code>widgets</code> array)</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a data-link-for="MiniApp Widget resource" data-link-type="dfn">name</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Widget name</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>path</a></th>
            <td> [=string=] </td>
            <td>Yes</td>
            <td>
              <span>Widget path</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a data-link-for="MiniApp Widget resource" data-link-type="dfn">min_platform_version</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Minimum platform version supported</span>
            </td>
          </tr>
        </tbody>
      </table>

      <table class="members">
        <caption>Members of [=window resource=] objects<br/>(<code>window</code> object)</caption>
        <thead>
          <tr>
            <th scope="col">Member</th>
            <th scope="col">Type</th>
            <th scope="col">Required</th>
            <th scope="col">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row"><a>navigation_bar_background_color</a></th>
            <td> [=hexColor=] </td>
            <td>No</td>
            <td>
              <span>Navigation bar Background color</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>navigation_bar_text_style</a></th>
            <td> [=string=]  </td>
            <td>No</td>
            <td>
              <span>Color style of the navigation bar text</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>navigation_bar_title_text</a></th>
            <td> [=string=]  </td>
            <td>No</td>
            <td>
              <span>Navigation bar title</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>navigation_style</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Navigation bar style</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>background_color</a></th>
            <td> [=hexColor=] </td>
            <td>No</td>
            <td>
              <span>Window background color</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>background_text_style</a></th>
            <td> [=string=] </td>
            <td>No</td>
            <td>
              <span>Background text style</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>enable_pull_down_refresh</a></th>
            <td> [=boolean=] </td>
            <td>No</td>
            <td>
              <span>Enable pull-to-refresh event</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>on_reach_bottom_distance</a></th>
            <td> [=number=] </td>
            <td>No</td>
            <td>
              <span>Distance for pull-up bottom event triggering</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>orientation</a></th>
            <td> [=string=]  </td>
            <td>No</td>
            <td>
              <span>Screen orientation settings</span>
            </td>
          </tr>
          <tr>
            <th scope="row"><a>fullscreen</a></th>
            <td> [=boolean=]  </td>
            <td>No</td>
            <td>
              <span>Full screen display</span>
            </td>
          </tr>          
          <tr>
            <th scope="row"><a>design_width</a></th>
            <td> [=number=]  </td>
            <td>No</td>
            <td>
                <span>The baseline page design width</span>
            </td>
          </tr> 
          <tr>
            <th scope="row"><a>auto_design_width</a></th>
            <td> [=boolean=]  </td>
            <td>No</td>
            <td>
                <span>Enables/disables auto-calculation of page [=design_width=] </span>
            </td>
          </tr> 
        </tbody>
      </table>

      <p class="note">
      Other [=application manifest=] members such as <a href="https://www.w3.org/TR/appmanifest/#scope-member"><code>scope</code></a>,
        <a href="https://www.w3.org/TR/appmanifest/#theme_color-member"><code>theme_color</code></a>,
        <a href="https://www.w3.org/TR/appmanifest/#related_applications-member"><code>related_applications</code></a>,
        <a href="https://www.w3.org/TR/appmanifest/#prefer_related_applications-member"><code>prefer_related_applications</code></a>, and
        <a href="https://www.w3.org/TR/appmanifest/#shortcuts-member"><code>shortcuts</code></a> are not currently supported by MiniApp user agents.
      </p>
    </section>
  </section>
  <section id="manifest-members">
    <h2>
      <span>MiniApp Manifest members</span>
    </h2>
    <section id='webappmanifest-members'>
      <h2>Members inherited from the Web Application Manifest</h2>
      <p>The [=MiniApp manifest=] uses the following essential [=application manifest=]'s members.</p>      
      <section>
        <h3><code>dir</code> member</h3>
        <p>
          The [=MiniApp manifest's=] <dfn>dir</dfn> member, while specifying the base direction of the <a>localizable members</a> of the [=manifest=], also specifies
          the default base text direction of the whole MiniApp.</p> 
        <p>The <a>dir</a> member's value can be set to one of the <a href="https://www.w3.org/TR/appmanifest/#dfn-text-direction-value">text-direction values</a> as specified in [[APPMANIFEST]]. The text-direction values are the following:</p>
        <dl>
          <dt><a href="https://w3c.github.io/miniapp-packaging/#dfn-ltr" data-type="dfn" data-link-type="dfn">"ltr"</a></dt>
          <dd>Left-to-right text.</dd>
          <dt><a href="https://w3c.github.io/miniapp-packaging/#dfn-rtl" data-type="dfn" data-link-type="dfn">"rtl"</a></dt>
          <dd>Right-to-left text.</dd>
          <dt><a href="https://w3c.github.io/miniapp-packaging/#dfn-auto" data-type="dfn" data-link-type="dfn">"auto"</a> (default)</dt>
          <dd>No explicit directionality.</dd>
        </dl>
        <p>This member will be processed according to the <a href="https://w3c.github.io/manifest/#dfn-process-the-dir-member" data-link-type="dfn">process the <code>dir</code> member</a> algorithm specified in [[APPMANIFEST]].</p>
        <p class="note" title='Usage'>
          Value by default: <code>"auto"</code>.
        </p>        
      </section>
      <section data-cite="IMAGE-RESOURCE">
        <h3>
          <span><code>icons</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn>icons</dfn> member describes images that serve as iconic representations of MiniApps. This member is an [=array=] of [=image resource=] objects.
        </p>
        <p>As specified in [[IMAGE-RESOURCE]], an [=image resource=] consists of:</p>
        <dl>
        <dt>
          <dt><a href="https://www.w3.org/TR/image-resource/#dfn-src" data-type="dfn" data-link-type="dfn">src</a></dt>
          <dd>A <a data-link-type="dfn" data-type="dfn" href="https://url.spec.whatwg.org/#concept-url">URL</a> from where to obtain the image data.</dd>
          <dt><a href="https://www.w3.org/TR/image-resource/#dfn-sizes" data-link-type="dfn">sizes</a></dt>
          <dd>
            An optional [=string=] representing the sizes of the image, expressed using the same syntax as [^link^]'s [^link/sizes^] attribute.
          </dd>
          <!--
          <dt><a href="https://www.w3.org/TR/image-resource/#dfn-type" data-link-type="dfn">type</a></dt>
          <dd>
            An optional [=image MIME type=].
          </dd>
          <dt><a href="https://www.w3.org/TR/image-resource/#dfn-label" data-link-type="dfn">label</a></dt>
          <dd>
            A [=string=] representing the accessible name of the image.
          </dd>
          -->
        </dl>
        <p>This member will be processed according to the <a href="https://w3c.github.io/manifest/#process-image-resources" data-link-type="dfn">process image resources</a> algorithm specified in [[APPMANIFEST]].</p>
      </section>      
      <section>
        <h3>
          <span><code>lang</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn>lang</dfn> member, while specifying the primary language of the <a>localizable members</a>, also specifies
          the primary language of the whole MiniApp. This member is a [=string=] in the form of a <a href="https://w3c.github.io/manifest/#dfn-language-tag" data-link-type="dfn">language tag</a>, a string that matches the production of a Language-Tag [[BCP47]], as defined in [[APPMANIFEST]].
        </p>
        <p>This member will be processed according to the <a href="https://w3c.github.io/manifest/#dfn-process-the-lang-member" data-link-type="dfn">process the <code>lang</code> member</a> algorithm specified in [[APPMANIFEST]].</p>
      </section>
      <section>
        <h3>
          <span><code>name</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn data-dfn-for="MiniApp manifest">name</dfn> member is the descriptive name of the application. This is the name directly displayed to the user. It is used as the display name of MiniApp along with the desktop icon and in the context of MiniApp management. 
        </p>
        <p>This member will be processed according to the <a href="https://w3c.github.io/manifest/#dfn-process-a-text-member" data-link-type="dfn">process a text member</a> algorithm specified in [[APPMANIFEST]].</p>
      </section>
      <section>
        <h3>
          <span><code>short_name</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn>short_name</dfn> member provides a concise and easy-to-read name for a MiniApp. It can be used when there is insufficient space to display the full MiniApp name provided in <a data-link-for="MiniApp manifest" data-link-type="dfn">name</a>.
        </p>
        <p>This member will be processed according to the <a href="https://w3c.github.io/manifest/#dfn-process-a-text-member" data-link-type="dfn">process a text member</a> algorithm specified in [[APPMANIFEST]].</p>
      </section>
    </section>
    <section id='WebAppManifest-app-info-members' data-cite='MANIFEST-APP-INFO'>
      <h2>Member inherited from Application Information</h2>
      <p>
        The following member is defined in the Web App Manifest - Application Information specification [[MANIFEST-APP-INFO]].
      </p>
      <section>
        <h3>
          <span><code>description</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn>description</dfn> member provides a textual description for the MiniApp representing the purpose of the web application in natural language, as defined in [[MANIFEST-APP-INFO]]
        </p>
        <p>This member will be processed according to the <a href="https://w3c.github.io/manifest/#dfn-process-a-text-member" data-link-type="dfn">process a text member</a> algorithm specified in [[APPMANIFEST]].</p>        
      </section>
    </section>
    <section id='supplementary-manifest-members'>
      <h2>Supplementary manifest members</h2>
      <p>
        The following members are defined under the scope of the [=MiniApp manifest=], addressing specific aspects of [=MiniApp=].
      </p>
      <section>
        <h3>
          <span><code>app_id</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn>app_id</dfn> member is a [=string=] that identifies the MiniApp univocally. This member is mainly used for the package management and it supports the update and release process of MiniApp versioning.
        </p>
        <p>
          The format of <a>app_id</a> MUST be a [=string=] defined by the following rule:
        </p>
        <pre class="abnf">
          app_idrule = ALPHA 1*( ALPHA / DIGIT / "_" / "." )
        </pre>
        <p class="note" title='Usage'>
             One common practice is to use the reverse-domain-name-like convention (e.g., <code>org.example.miniapp</code>).
        </p>
      </section>
      <section>
        <h3>
          <span><code>min_platform_version</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn data-dfn-for="MiniApp manifest">min_platform_version</dfn> member is a [=string=] that indicates the minimum supported version of the MiniApp user agent's platform to ensure the normal operation of a MiniApp (e.g. <code>1.0.0</code>).
        </p>
        <p class="note" title='Usage'>
          The RECOMMENDED format for this member is <code>X.Y.Z</code>, where <code>X</code>, <code>Y</code>, and <code>Z</code> are non-negative [=integer=] values (e.g., <samp>1.10.0</samp>), as specified in <cite>Semantic Versioning</cite> [[SEMANTIC-VERSIONING]].
        </p>        
      </section>
      <section>
        <h3>
          <span><code>pages</code> member</span>
        </h3>
        <p>
            The [=MiniApp manifest's=] <dfn>pages</dfn> member is an [=array=] of <a>relative-url</a> [=string=] used for specifying the collection of pages that are part of a MiniApp. Each item in the array represents a [=page route=].
        </p> 
        <p>
          A <dfn data-lt="page route|page routes">MiniApp page route</dfn> is the relative path and filename of a MiniApp Page.
        </p> 
        <p>
          During the MiniApp development process, adding or deleting pages of a MiniApp is done by configuring the array. When configuring the [=page routes=], the file name extension MAY be omitted (e.g., <samp>/component/mypage</samp>).
        </p>
        <div class="note" title="Usage">
          <p>
            The first item in the <a>pages</a> array defines the homepage of a MiniApp.
          </p>
          <p>
            For compatibility with the Web platform, it is RECOMMENDED to use <a>pages</a> along with the Web application manifest's <a href="https://www.w3.org/TR/appmanifest/#start_url-member" data-link-type="dfn">start_url</a> and <a href="https://www.w3.org/TR/appmanifest/#scope-member" data-link-type="dfn">scope</a> members. These members will be set with the following values:
          </p>
          <ul>
            <li><a href="https://www.w3.org/TR/appmanifest/#start_url-member" data-link-type="dfn">start_url</a> SHOULD be set with the same value of the first item in the <a>pages</a> member; and</li>
            <li><a href="https://www.w3.org/TR/appmanifest/#scope-member" data-link-type="dfn">scope</a> SHOULD be set with the value <code>"."</code>.</li>
          </ul>
        </div>
      </section>      
      <section>
        <h3>
          <span><code>req_permissions</code> member</span>
        </h3>
        <p>
            The <dfn>req_permissions</dfn> member is an [=array=] of [=MiniApp permission resources=]. Each <a>MiniApp permission resource</a> object declares permission (such as the access to the location information, user contacts, and hardware features like camera) required for the proper running of the MiniApp. User's consent may be asked to protect the user's privacy related to such permissions. Such information can also be used by an app store or a hosting platform to filter a MiniApp according to user's policy or device capabilities. 
        </p>
      </section>      
      <section>
        <h3>
          <span><code>version_name</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn>version_name</dfn> member is a [=string=] mainly used for describing information on the version of a MiniApp, playing an important role in version control, MiniApp application, and platform compatibility. It is usually considered as the version shown publicly and displayed to the user.
        </p>
        <p class="note" title='Usage'>
          The RECOMMENDED format for this member is <code>X.Y.Z</code>, where <code>X</code>, <code>Y</code>, and <code>Z</code> are non-negative [=integer=] values (e.g., <samp>1.10.0</samp>), as specified in <cite>Semantic Versioning</cite> [[SEMANTIC-VERSIONING]].
        </p>
      </section>
      <section>
        <h3>
          <span><code>version_code</code> member</span>
        </h3>
        <p>
          The [=MiniApp manifest's=] <dfn>version_code</dfn> member is a non-negative [=integer=] that represents the version of a MiniApp. It is mainly used for enhancing the maintainability and security of MiniApp (e.g., compatibility among incremental versions). The <a>version_code</a> member aims at supporting the development and deployment process, and it is not usually displayed to the end-user.
        </p>
        <div class="note" title='Usage'>
          <p>
            The value of this member is usually incremented according to the version iteration process.
          </p>
          <p>
            Value by default: <code>1</code>.
          </p>
        </div>
      </section>
      <section>
        <h3>
          <span><code>window</code> member</span>
        </h3>
        <p>
          The <dfn>window</dfn> member contains sub-attributes, defined in <a>MiniApp window resource</a>, used for styling the status bar, navigation bar, title, window background color, etc.
        </p>
        <p>
            <code>window</code> inherits the text direction and language configuration from <code>dir</code> and <code>lang</code>.
        </p>
      </section>
      <section>
        <h3>
          <span><code>widgets</code> member</span>
        </h3>
        <p>
            The <dfn>widgets</dfn> member defines a set of widgets that are a part of a MiniApp.
            Specifically, a MiniApp package can include MiniApp Pages and Widgets concurrently.
            As a part of the MiniApp application, widgets share some of the Manifest fields with the
            MiniApp main program, including:
        </p> 
        <ul>
          <li><code>dir</code>;</li>
          <li><code>lang</code>;</li>
          <li><code>app_id</code>;</li>
          <li><code>name</code>;</li>
          <li><code>short_name</code>;</li>
          <li><code>icons</code>;</li>
          <li><code>version_name</code>; and</li>
          <li><code>version_code</code></li>
        </ul>
        <p>
          However, a widget also has its exclusive fields, defined in <a>MiniApp Widget resource</a>.</p>
        </p>
        <p>There are certain differences between the Widget-related APIs and the MiniApp APIs, hence, the declaration of the minimum platform version may be different. If the <code>min_platform_version</code> field of a widget is not set explicitly, it is then identical to the <code>min_platform_version</code> of the MiniApp by default.
        </p>
      </section>
    </section>
  </section> 

  <section>
    <h2><dfn data-lt="window resource|MiniApp window resources|MiniApp window resource's">MiniApp window resource</dfn> members</h2>
    
    <section>
      <h3><code>navigation_bar_background_color</code> member</h3>
      <p>
        <span>The <dfn>navigation_bar_background_color</dfn> member specifies the color of the navigation bar background.</span>
      </p>
      <p class="note" title='Usage'>
        <span>
          Value by default: <code>#000000</code>.
          </span>
      </p>
    </section>
    <section>
      <h3><code>navigation_bar_text_style</code> member</h3>
      <p>
        <span>The <dfn>navigation_bar_text_style</dfn> member specifies the text color of the navigation bar title.</span>
      </p>
      <p class="note" title='Usage'>
        <span>
         Value by default: <code>white</code>.
        </span>
        </p>
    </section>
    <section>
      <h3><code>navigation_bar_title_text</code> member</h3>
      <p>
        <span>The <dfn>navigation_bar_title_text</dfn> member specifies the title text of the navigation bar</span>
      </p>
    </section>
    <section>
      <h3><code>navigation_style</code> member</h3>
      <p>
        <span>The <dfn>navigation_style</dfn> member specifies the style of the navigation bar: <code>default</code> (default style) and <code>custom</code> (customized navigation bar). Note: The capsule button at the right corner is not customizable.</span>
      </p>
      <p class="note" title='Usage'>
        <span>
          Value by default: <code>default</code>.
        </span>
      </p>
    </section>
    <section>
      <h3><code>background_color</code> member</h3>
      <p>
        <span>The <dfn>background_color</dfn> member specifies the background color of the window. This member is equivalent to  <a href="https://www.w3.org/TR/appmanifest/#background_color-member"><code>background_color</code></a>.</span>
      </p>
      <p class="note" title='Usage'>
        <span>
          Value by default: <code>#ffffff</code>.
        </span>
      </p>
    </section>
    <section>
      <h3><code>background_text_style</code> member</h3>
      <p>
        <span>The <dfn>background_text_style</dfn> member specifies the background text style.</span>
      </p>
      <p class="note" title='Usage'>
        <span>
          Value by default: <code>dark</code>.
        </span>
      </p>
    </section>
    <section>
      <h3><code>enable_pull_down_refresh</code> member</h3>
      <p>
        <span>The <dfn>enable_pull_down_refresh</dfn> member specifies if the pull-to-refresh event is enabled.</span>
      </p>
      <p class="note" title='Usage'>
        <span>
          Value by default: <code>false</code>.
        </span>
      </p>
    </section>
    <section>
      <h3><code>on_reach_bottom_distance</code> member</h3>
      <p>
        <span>The <dfn>on_reach_bottom_distance</dfn> member specifies the distance from the bottom when page pull-up bottom event is triggered. The value is a non-negative integer and the unit is in <a data-cite="css-values">pixel unit</a>.</span>
      </p>
      <p class="note">
        <span>
          Value by default: <code>50</code>.
        </span>
      </p>
    </section>
    <section>
      <h3><code>orientation</code> member</h3>
      <p>
        <span>The <dfn>orientation</dfn> member specifies the screen orientation settings to which a screen can be locked. The two supported values are <code>portrait</code> and <code>landscape</code>, defined in {{OrientationLockType}} [[screen-orientation]]. This member is equivalent to <a href="https://www.w3.org/TR/appmanifest/#orientation-member"><code>orientation</code></a>.</span>
      </p>
      <p class="note" title='Usage'>
        <span>
          Value by default: <code>portrait</code>.
        </span>
      </p>
      <div class="issue" data-number="8"></div>
    </section>
      <section>
        <h3><code>fullscreen</code> member</h3>
        <p>
          <span>The <dfn>fullscreen</dfn> member indicates the full screen display. <code>true</code> is equivalent to the <code>fullscreen</code> value of
            <a href="https://www.w3.org/TR/appmanifest/#display-member"><code>display</code></a>, and <code>false</code> to <code>minimal-ui</code>.</span>
        </p>
        <p class="note" title='Usage'>
          <span>
            Value by default: <code>false</code>.
          </span>
        </p>
        <p class="issue">
          Should it be <code>standalone</code> instead of <code>minimal-ui</code>?
        </p>
      </section>
      <section>
        <h3><code>design_width</code> member</h3>
        <p>
            <span>The <dfn>design_width</dfn> member indicates the baseline width of the page design in <a data-cite="css-values">pixel unit</a>, based on which the size of the components on the page would be adjusted accordingly. The value is a non-negative integer.</span>

        </p>
        <p class="note" title='Usage'>
          <span>
            Value by default: <code>750</code>.
          </span>
        </p>
      </section>
      <section>
        <h3><code>auto_design_width</code> member</h3>
        <p>
            <span>The <dfn>auto_design_width</dfn> member indicates whether the design_width of the page is auto-calculated. When it's <i>true</i>, the value of the <code>design_width</code> is ignored, and the baseline width is determined by the system automatically according to the pixel density of the screen.</span>

        </p>
        <p class="note" title='Usage'>
          <span>
            Value by default: <code>false</code>.
          </span>
        </p>
      </section>
    </section>

    <section>
      <h2><dfn data-lt="widget resources|MiniApp Widget resources|MiniApp Widget resource's">MiniApp Widget resource</dfn> members</h2>
      <section>
        <h2><code>name</code> member</h2>
        <p>
          <span>The <dfn data-dfn-for="MiniApp Widget resource">name</dfn> member describes the name of the Widget</span>
        </p>
      </section>
      <section>
        <h3><code>path</code> member</h3>
        <p>
          <span>The <dfn>path</dfn> member indicates the corresponding page path of a Widget. It follows the same path route format as defined in <a>pages</a>.</span>
        </p>
      </section>
      <section>
        <h3><code>min_platform_version</code> member</h3>
        <p>
          <span>The <dfn data-dfn-for="MiniApp Widget resource">min_platform_version</dfn> member indicates the minimum platform version supported</span>
        </p>
        <p>There are certain differences between the Widget-related APIs and the MiniApp APIs, hence, the declaration of the minimum platform version may be different. If the <code>min_platform_version</code> field of a widget is not set explicitly, it is then identical to the <code>min_platform_version</code> of the MiniApp by default.
        </p>
      </section>
    </section>

    <section>
      <h2><dfn data-lt="permission resource|MiniApp permission resources|MiniApp permission resource's">MiniApp permission resource</dfn> members</h2>
      <section>
        <h3><code>name</code> member</h3>
        <p>
          <span>The <dfn data-dfn-for="MiniApp permission resource">name</dfn> member indicates the permission name</span>
        </p>
      </section>
      <section>
        <h3><code>reason</code> member</h3>
        <p>
          <span>The <dfn>reason</dfn> member indicates the reason to use this permission</span>
        </p>
      </section>

      <div class="ednote">
        <p>
        It's for further study whether the predefined permissions, permission extension, permission groups, and protection levels need to be specified.
        </p>
      </div>
      <!-- <div class="issue" data-number='117'></div> -->
    </section>

    <section>
      <h2>
          <span><dfn>Localizable members</dfn></span>
      </h2>
      <p>
          The following members are localizable and share the same default configuration of <code>dir</code> and <code>lang</code> if not otherwise specified.
      </p>
      <ul>
          <li><a data-link-for="MiniApp manifest" data-link-type="dfn">name</a></li>
          <li><a>short_name</a></li>
          <li><a>description</a></li>
          <li>[=MiniApp window resource's=] <a>navigation_bar_title_text</a></li>
          <li>[=MiniApp Widget resource's=] <a data-link-for="MiniApp Widget resource" data-link-type="dfn">name</a></li>
      </ul>
    </section>

  <section>
    <h2>
      <span>Dependencies</span>
    </h2>

    <p>
        As a key part of a MiniApp package, the <code>manifest.json</code> file describes several important aspects of the MiniApp by referring to the resources inside the MiniApp package in different forms of files, such as the page files in the <code>pages</code> directory and the icon images in the <code>common</code> directory. Details are specified in the <a href="https://w3c.github.io/miniapp-packaging/">MiniApp Packaging specification</a>.
    </p>

    <p>
        The normal operation of a MiniApp relies on the proper configuration of the manifest file according to this specification and the availability of the dependent resources in the MiniApp package. Such dependency needs to be checked during both the development phase and deployment phase.
    </p>

  </section>

  <section>
    <h2>
        <span>Security and Privacy Considerations</span>
    </h2>
    <section>
        <h2>
            <span>Content constraint</span>

        </h2>
        <p>
            As the manifest is a JSON file and will commonly be encoded using [[UNICODE]], the security considerations described in [[ECMA-404]] and [[UTR36]] apply. In order to prevent developers from including custom/unrestrained data in a manifest, implementors may use a more strict schema than that defined in <a href="#sec-json-schema">JSON Schema</a> to impose their own implementation-specific limits on the member names, types and value ranges, e.g. to guard against memory overflow, or to meet platform-specific limitations.
        </p>
    </section>

    <section>
        <h2>
            <span>Local resource access</span>

        </h2>
        <p> Members like <code>icons</code>, <code>pages</code>, <code>widgets</code> contain paths referring to local resources on the hosting platform. Implementors and the hosting platform should check the validity of those paths to ensure no illegal access outside the scope of the <a href="https://w3c.github.io/miniapp-packaging/">MiniApp package</a>. On the other hand, the MiniApp itself (e.g. in JS code) may provide means to jump to external resources either on the hosting platform, or on a remote web site (e.g. through a uri). In this case, the hosting platform is responsible for providing clear indication to an end-user about such context switch.</p>


	      <p>
            In addition, the <code>req_permissions</code> member provides a specific means to control the access to the local software, hardware and data resources on the user's device. User's consent should be asked when it comes to privacy-related or high-level privileged resources.
        </p>
    </section>

    <section>
        <h2>
            <span>Integrity</span>

        </h2>
        <p> The integrity of the manifest document is protected by a cryptographic hash mechanism as part of the whole MiniApp package. Details are specified in the <a href="https://w3c.github.io/miniapp-packaging/">MiniApp Packaging specification</a>. </p>
    </section>

    <section>
        <h2>
            <span>Transparency</span>

        </h2>
        <p>
            It is RECOMMENDED that the hosting platform makes the necessary meta information in the manifest available to the end-user, such as <code>app_id</code>, <code>name</code>, <code>short_name</code>, <code>icons</code>, <code>version_name</code>, <code>description</code>. This is to give an end-user an opportunity to make a conscious decision to approve the installation and use of the MiniApp. This could also help to identify a spoofing MiniApp.</p>
    </section>
</section>

  <section class="appendix" id="conformance">
    <p>
      This specification uses the Augmented Backus-Naur Form (ABNF) notation of [[!RFC5234]].
    </p>
  </section>


<section>
    <h2 id="sec-json-schema">
        <span>JSON Schema</span>
    </h2>
    <p>
        Developers interested in validating the MiniApp manifest document can use the JSON Schema defined <a href="./manifest_schema.json">here</a>.
    </p>
</section>

  <section class='informative'>
    <h2>Example</h2>
    <pre class="example json">
      {
        "dir": "ltr",
        "lang": "en-US",
        "app_id": "org.w3c.miniapp",
        "name": "MiniApp Demo",
        "short_name": "MiniApp",
        "version_name": "1.0.0",
        "version_code": 1,
        "description": "A Simple MiniApp Demo",
        "icons": [
          {
            "src": "common/icons/icon.png",
            "sizes": "48x48"
          }
        ],
        "min_platform_version": "1.0.0",
        "pages": [
          "pages/index/index",
          "pages/detail/detail"
        ],
        "window": {
          "navigation_bar_text_style": "black",
          "navigation_bar_title_text": "Demo",
          "navigation_bar_background_color": "#f8f8f8",
          "background_color": "#ffffff",
          "fullscreen": false
        },
        "widgets": [
          {
            "name": "widget",
            "path": "widgets/index/index",
            "min_platform_version": "1.0.0"
          }
        ],
        "req_permissions": [
          {
            "name": "system.permission.LOCATION",
            "reason": "To show user's position on the map"
          },
          {
            "name": "system.permission.CAMERA",
            "reason": "To scan the QR code"
          }
        ]
      }
    </pre>
  </section>

  <section class="appendix">
    <h2>Acknowledgements</h2>
    <p>
      This document refers to <a href="https://www.w3.org/TR/appmanifest">W3C Web App Manifest</a>, <a href="https://smartprogram.baidu.com/docs/develop/tutorial/process/">Baidu MiniApp</a>, <a href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">WeChat MiniApp</a>, <a href="https://opendocs.alipay.com/mini/framework/app-json">Alipay MiniApp</a>, <a href="https://developer.toutiao.com/dev/cn/mini-app/develop/framework/basic-reference/general-configuration">ByteDance MiniApp</a>, <a href="https://doc.quickapp.cn/framework/manifest.html">Quick App Specification</a>, <a href="https://w3c.github.io/miniapp-widget/req/">MiniApp Widget Requirements</a>, <a href="https://w3c.github.io/miniapp-lifecycle/">MiniApp Lifecycle Specification</a>, <a href="https://w3c.github.io/miniapp-addressing/">MiniApp Addressing</a>, and <a href="https://semver.org/">Semantic Versioning</a>. We appreciate the open source efforts of these documents.
    </p>
  </section>
  <section class="appendix informative">
    <h2>
      <span>Extensibility</span>
    </h2>
    <p>
      This specification is based on the Web App Manifest <a href="https://www.w3.org/TR/appmanifest/#extensibility">extensibility principle</a>. 
    </p>
    <p>
      Although proprietary extensions are undesirable, they may be included as a manifest extension. In this case, it is RECOMMENDED to use vendor prefixes for the new members.
    </p>
    <p>
      We encourage implementors to add proprietary extensions to the Extensions Registry. This allows the community to track what extensions vendors and/or the web community have defined and documented.
    </p>
    <p class="issue" data-number="9">
    </p>
    <p>
      The following is an example of three hypothetical vendor extensions.
    </p>
    <pre class="example json" title="Proprietary extensions">
      {
        ...
        "wechat_new_feature": "foo",
        "ali_new_url_system": "http://example.org",
        "coolminiapp_menu_color": "#FA0000"
        ...
      }
    </pre>
  </section>
</body>
</html>
